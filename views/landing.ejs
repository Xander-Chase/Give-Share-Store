<%- include("metadata") %>
<html lang="en" >
    <%- include("searchNavBar") %>
    <body>

    <div class="container-fluid d-grid gap-3 align-items-center"
         style="grid-template-rows: 0fr 1fr 3fr ;">

        <!-- Slide Banner -->
        <div class="col">
            <div id="myCarousel" class="carousel slide mb-6 pointer-event" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2" class=""></button>
                    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3" class="active" aria-current="true"></button>
                </div>

                <div class="carousel-inner">
                    <% let sampleSlogan = ["Explore", "Browse Collection", "Shop Now"]; %>
                    <% let sampleBanners = [
                        "/img/landingPage/banner/giveandshareBanner.png",
                        "https://media.istockphoto.com/id/1227531351/photo/summer-banner-sunny-sand-with-palm-leaves-in-tropical-beach.jpg?s=612x612&w=0&k=20&c=PM5uFqeefOvstaSrFUGPOArZR9QfMTCHlAMr4yRoFDk=",
                        "https://jdmyblog.s3.amazonaws.com/wp-content/uploads/2022/06/TOP-BANNER-5.jpg"
                    ];%>
                    <% let sampleDescriptions = [
                        "The Vintage Garage!",
                        "It's that time of the Month, we have our freshly and chilly Summer collection! Great for your picnic and travels!",
                        "Check out the new jordan collection in The Vintage Garage!"
                        ];%>
                    <% for (let i = 0; i < 3; i++) {%>
                        <% let status = ""; %>
                        <% if (i < 1) {%>
                            <% status = "active" %>
                        <% }%>
                        <%- include("templates/carouselBanner", {activeStatus: status, description: sampleDescriptions[i], slogan: sampleSlogan[i], source: sampleBanners[i]})%>
                    <% }%>
                </div>

                <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>

        <div class="container mt-4">
            <h1>Welcome to The Vintage Garage!</h1>
            <h2>Current Listings</h2>
            <div class="row">
                <% currentListings.forEach(function(listing) { %>
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img src="<%= listing.product_img_URL[0] %>" class="card-img-top" alt="<%= listing.item_title %>">
                            <div class="card-body">
                                <h5 class="card-title"><%= listing.item_title %></h5>
                                <p class="card-text">$<%= listing.item_price.toFixed(2) %></p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="btn-group">
                                        <a href="/product-info/<%= listing._id %>" class="btn btn-sm btn-outline-secondary">View</a>
                                        <button type="button" class="btn btn-sm btn-outline-secondary">Add to Cart</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                <% }); %>
            </div>


        <div class="col text-center">
        </div>

    </div>






        <%- include("footer") %>
    </body>
</html>